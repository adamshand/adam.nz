# Todo List

Automatically generated by `.husky/update-todos.sh` from any file tagged wtih **TODO** or **FIXME**.

## [lib/pocketbase.svelte.ts](https://github.com/adamshand/adam.nz/blob/main/src/lib/pocketbase.svelte.ts)
  - [ ] FIXME: copy sizes from oft
  - [ ] FIXME: is this a bug? Should it return an empty object or error if run with SSR?
  - [ ] FIXME: Use pb.getFileUrl()
  - [ ] TODO: What if you forget to call any of the security methods in a server load function? Oh noes!

## [lib/components/SEO.svelte](https://github.com/adamshand/adam.nz/blob/main/src/lib/components/SEO.svelte)
  - [ ] FIXME: this doesn't work, not sure why yet.

## [lib/components/comments/Show.svelte](https://github.com/adamshand/adam.nz/blob/main/src/lib/components/comments/Show.svelte)
  - [ ] TODO: add APIs for hiding and deleting comments 

## [lib/components/comments/Preview.svelte](https://github.com/adamshand/adam.nz/blob/main/src/lib/components/comments/Preview.svelte)
  - [ ] FIXME: This works but is supposedly bad and doesn't work reliably.

## [lib/components/Box.svelte](https://github.com/adamshand/adam.nz/blob/main/src/lib/components/Box.svelte)
  - [ ] FIXME: use class:backgroud etc

## [lib/components/Quote.svelte](https://github.com/adamshand/adam.nz/blob/main/src/lib/components/Quote.svelte)
  - [ ] TODO: 

## [lib/components/Debug.svelte](https://github.com/adamshand/adam.nz/blob/main/src/lib/components/Debug.svelte)
  - [ ] FIXME: legend isn't displaying properly 

## [lib/components/PostsIndexCards.svelte](https://github.com/adamshand/adam.nz/blob/main/src/lib/components/PostsIndexCards.svelte)
  - [ ] FIXME: type this properly, it already exists somewhere in `.sveltekit`
  - [ ] FIXME: links /book etc don't exist 

## [lib/components/Countdown.svelte](https://github.com/adamshand/adam.nz/blob/main/src/lib/components/Countdown.svelte)
  - [ ] FIXME: add clearInterval to onMount

## [lib/components/PostSlider.svelte](https://github.com/adamshand/adam.nz/blob/main/src/lib/components/PostSlider.svelte)
  - [ ] TODO: dots shouldn't scroll with first image. put dots in <section> 

## [lib/components/PostsIndex.svelte](https://github.com/adamshand/adam.nz/blob/main/src/lib/components/PostsIndex.svelte)
  - [ ] TODO: ??: if (groupByYear && sortByViews) throw error
  - [ ] TODO: Feels fugly, but not sure how to make it better 

## [lib/components/PostTitle.svelte](https://github.com/adamshand/adam.nz/blob/main/src/lib/components/PostTitle.svelte)
  - [ ] FIXME: is there any need for showAuthor or does the below logic always work? Can exceptions be

## [hooks.server.ts](https://github.com/adamshand/adam.nz/blob/main/src/hooks.server.ts)
  - [ ] TODO: add else {} to login as bot ??

## [routes/rss.xml/+server.ts](https://github.com/adamshand/adam.nz/blob/main/src/routes/rss.xml/+server.ts)
  - [ ] TODO: can you get locals from +server.ts?

## [routes/posts/project/+page.ts](https://github.com/adamshand/adam.nz/blob/main/src/routes/posts/project/+page.ts)
  - [ ] TODO: this is a dirty hack because projects aren't quite the same as posts

## [routes/comment/+page.server.ts](https://github.com/adamshand/adam.nz/blob/main/src/routes/comment/+page.server.ts)
  - [ ] TODO: could add a new column 'isSpam' or 'isBlocked' and check for existing email addresses that have been blocked.  Maybe refactor users into their own collection?

## [routes/comment/+page.svelte](https://github.com/adamshand/adam.nz/blob/main/src/routes/comment/+page.svelte)
  - [ ] FIXME: I feel like this us better UX?  But invalidate doesn't seem to work and the new comment doesn't show.  Not important now, figure out later.

## [routes/admin/comments/+page.server.ts](https://github.com/adamshand/adam.nz/blob/main/src/routes/admin/comments/+page.server.ts)
  - [ ] FIXME: do i need to check status of action before redirecting?
  - [ ] FIXME: need to notify of success/failure somehow, toast?
  - [ ] FIXME: need to notify of success/failure somehow, toast?

## [routes/search/+page.server.ts](https://github.com/adamshand/adam.nz/blob/main/src/routes/search/+page.server.ts)
  - [ ] FIXME: add try/catch

## [routes/[...post]/+layout.server.ts](https://github.com/adamshand/adam.nz/blob/main/src/routes/[...post]/+layout.server.ts)
  - [ ] FIXME: lockdown comments collection so people can't emails by directly hitting PB API.
  - [ ] TODO: stream comments so post loads fast

## [routes/(auth)/verify/+page.svelte](https://github.com/adamshand/adam.nz/blob/main/src/routes/(auth)/verify/+page.svelte)
  - [ ] FIXME: repeated requests within 120 sec trigger an error, but it isn't being caught??

## [routes/(auth)/sign/out/+page.svelte](https://github.com/adamshand/adam.nz/blob/main/src/routes/(auth)/sign/out/+page.svelte)
  - [ ] TODO: redirect to / 

## [routes/emojivore/order/+page.server.ts](https://github.com/adamshand/adam.nz/blob/main/src/routes/emojivore/order/+page.server.ts)
  - [ ] TODO: This looks better but requires Kit 2.0
