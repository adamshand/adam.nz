# Todo List

Automatically generated by `.husky/update-todos.sh` from any file tagged wtih **TODO** or **FIXME**.

## [lib/pocketbase.svelte.ts](https://github.com/adamshand/adam.nz/blob/main/src/lib/pocketbase.svelte.ts)
  - [ ] FIXME: copy sizes from oft
  - [ ] FIXME: is this a bug? Should it return an empty object or error if run with SSR?
  - [ ] FIXME: Use pb.getFileUrl()
  - [ ] TODO: What if you forget to call any of the security methods in a server load function? Oh noes!

## [lib/components/SEO.svelte](https://github.com/adamshand/adam.nz/blob/main/src/lib/components/SEO.svelte)
  - [ ] FIXME: this doesn't work, not sure why yet.

## [lib/components/Box.svelte](https://github.com/adamshand/adam.nz/blob/main/src/lib/components/Box.svelte)
  - [ ] FIXME: use class:backgroud etc

## [lib/components/Comments.svelte](https://github.com/adamshand/adam.nz/blob/main/src/lib/components/Comments.svelte)
  - [ ] FIXME: ghetto sanitisation, needs proper xss safety 

## [lib/components/Debug.svelte](https://github.com/adamshand/adam.nz/blob/main/src/lib/components/Debug.svelte)
  - [ ] FIXME: legend isn't displaying properly 

## [lib/components/PostsIndexCards.svelte](https://github.com/adamshand/adam.nz/blob/main/src/lib/components/PostsIndexCards.svelte)
  - [ ] FIXME: type this properly, it already exists somewhere in `.sveltekit`
  - [ ] FIXME: links /book etc don't exist 

## [lib/components/Countdown.svelte](https://github.com/adamshand/adam.nz/blob/main/src/lib/components/Countdown.svelte)
  - [ ] FIXME: add clearInterval to onMount

## [lib/components/PostSlider.svelte](https://github.com/adamshand/adam.nz/blob/main/src/lib/components/PostSlider.svelte)
  - [ ] TODO: dots shouldn't scroll with first image. put dots in <section> 

## [lib/components/PostsIndex.svelte](https://github.com/adamshand/adam.nz/blob/main/src/lib/components/PostsIndex.svelte)
  - [ ] TODO: ??: if (groupByYear && sortByViews) throw error
  - [ ] TODO: Feels fugly, but not sure how to make it better 

## [routes/rss.xml/+server.ts](https://github.com/adamshand/adam.nz/blob/main/src/routes/rss.xml/+server.ts)
  - [ ] TODO: can you get locals from +server.ts?

## [routes/posts/project/+page.ts](https://github.com/adamshand/adam.nz/blob/main/src/routes/posts/project/+page.ts)
  - [ ] TODO: this is a dirty hack because projects aren't quite the same as posts

## [routes/admin/comments/+page.server.ts](https://github.com/adamshand/adam.nz/blob/main/src/routes/admin/comments/+page.server.ts)
  - [ ] FIXME: do i need to check status of action before redirecting?
  - [ ] FIXME: need to notify of success/failure somehow, toast?
  - [ ] FIXME: need to notify of success/failure somehow, toast?

## [routes/sitemap/+page.svelte](https://github.com/adamshand/adam.nz/blob/main/src/routes/sitemap/+page.svelte)
  - [ ] FIXME: does this do anything? */

## [routes/search/+page.server.ts](https://github.com/adamshand/adam.nz/blob/main/src/routes/search/+page.server.ts)
  - [ ] FIXME: add try/catch

## [routes/[...post]/+page.server.ts](https://github.com/adamshand/adam.nz/blob/main/src/routes/[...post]/+page.server.ts)
  - [ ] FIXME with zod not typeguard

## [routes/[...post]/+layout.server.ts](https://github.com/adamshand/adam.nz/blob/main/src/routes/[...post]/+layout.server.ts)
  - [ ] FIXME: stream comments

## [routes/(auth)/verify/+page.svelte](https://github.com/adamshand/adam.nz/blob/main/src/routes/(auth)/verify/+page.svelte)
  - [ ] FIXME: repeated requests within 120 sec trigger an error, but it isn't being caught??

## [routes/(auth)/sign/out/+page.svelte](https://github.com/adamshand/adam.nz/blob/main/src/routes/(auth)/sign/out/+page.svelte)
  - [ ] TODO: redirect to / 

## [routes/emojivore/order/+page.server.ts](https://github.com/adamshand/adam.nz/blob/main/src/routes/emojivore/order/+page.server.ts)
  - [ ] TODO: This looks better but requires Kit 2.0
